# spring-boot-opinionated
Opinionated setup of spring boot application

## Java
Uses Java 11

## Docker

[Distroless](https://github.com/GoogleContainerTools/distroless) is the base image.

As java is object-compatible, docker image is generated by copying the packaged jar.
This is preferred over multi-stage docker, as multi-stage docker [downloads internet](http://blog.flurdy.com/2014/11/dont-download-internet-share-maven-ivy-docker.html)

To build and run the application at port 8080 use `docker run --rm -it -p8080:8080 $(docker build -q .)`

## Local Development

Start the application at port 8080 and debug port 5005 using `mvn spring-boot:run -Dspring-boot.run.jvmArguments="-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5005"`

## Database

Liquibase is used for database changes. 

For testing, liquibase is disabled and h2 is used. Database entities are generated from classes instead of running changelog scripts.

